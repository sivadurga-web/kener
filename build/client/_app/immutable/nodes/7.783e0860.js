import{s as Z,e as A,a as E,f as b,z as ee,d as _,c as I,g as k,h as C,j as x,r as D,i as g,u as j,x as y,l as K,m as Q,E as V}from"../chunks/scheduler.71bb06cf.js";import{S as te,i as le,a as v,t as w,c as z,b as N,d as S,m as P,g as B,e as T}from"../chunks/index.0750685b.js";import{e as M}from"../chunks/ctx.42013687.js";import{M as ne}from"../chunks/monitor.3478c00d.js";import{C as X,a as Y}from"../chunks/Icon.9b837364.js";import{I as se}from"../chunks/incident.41f33947.js";import{B as H}from"../chunks/moment.60ffb904.js";import"../chunks/paths.22991dd0.js";function L(u,t,s){const e=u.slice();return e[2]=t[s],e}function q(u,t,s){const e=u.slice();return e[2]=t[s],e}function F(u,t,s){const e=u.slice();return e[7]=t[s],e[9]=s,e}function G(u){return document.title=u[0].monitors[0].name+" Monitor Page",{c:j,l:j,m:j,d:j}}function R(u){let t,s,e,l,i,n,o;l=new H({props:{variant:"outline",$$slots:{default:[oe]},$$scope:{ctx:u}}});let a=M(u[0].monitors),m=[];for(let c=0;c<a.length;c+=1)m[c]=W(q(u,a,c));const h=c=>w(m[c],1,1,()=>{m[c]=null});return{c(){t=b("section"),s=b("div"),e=b("div"),N(l.$$.fragment),i=E(),n=b("section");for(let c=0;c<m.length;c+=1)m[c].c();this.h()},l(c){t=k(c,"SECTION",{class:!0,id:!0});var f=C(t);s=k(f,"DIV",{class:!0});var p=C(s);e=k(p,"DIV",{class:!0});var $=C(e);S(l.$$.fragment,$),$.forEach(_),p.forEach(_),f.forEach(_),i=I(c),n=k(c,"SECTION",{class:!0,id:!0});var r=C(n);for(let d=0;d<m.length;d+=1)m[d].l(r);r.forEach(_),this.h()},h(){x(e,"class","col-span-2 md:col-span-1 text-center md:text-left"),x(s,"class","grid w-full grid-cols-2 gap-4"),x(t,"class","mx-auto bg-transparent mb-4 flex w-full max-w-[890px] flex-1 flex-col items-start justify-center"),x(t,"id",""),x(n,"class","mx-auto backdrop-blur-[2px] mb-8 flex w-full max-w-[890px] flex-1 flex-col items-start justify-center"),x(n,"id","")},m(c,f){g(c,t,f),D(t,s),D(s,e),P(l,e,null),g(c,i,f),g(c,n,f);for(let p=0;p<m.length;p+=1)m[p]&&m[p].m(n,null);o=!0},p(c,f){const p={};if(f&1024&&(p.$$scope={dirty:f,ctx:c}),l.$set(p),f&1){a=M(c[0].monitors);let $;for($=0;$<a.length;$+=1){const r=q(c,a,$);m[$]?(m[$].p(r,f),v(m[$],1)):(m[$]=W(r),m[$].c(),v(m[$],1),m[$].m(n,null))}for(B(),$=a.length;$<m.length;$+=1)h($);z()}},i(c){if(!o){v(l.$$.fragment,c);for(let f=0;f<a.length;f+=1)v(m[f]);o=!0}},o(c){w(l.$$.fragment,c),m=m.filter(Boolean);for(let f=0;f<m.length;f+=1)w(m[f]);o=!1},d(c){c&&(_(t),_(i),_(n)),T(l),y(m,c)}}}function oe(u){let t;return{c(){t=K("Ongoing Incidents")},l(s){t=Q(s,"Ongoing Incidents")},m(s,e){g(s,t,e)},d(s){s&&_(t)}}}function U(u){let t,s;return t=new se({props:{incident:u[7],state:"close",variant:"title+body+comments+monitor",monitor:u[2]}}),{c(){N(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,l){P(t,e,l),s=!0},p(e,l){const i={};l&1&&(i.incident=e[7]),l&1&&(i.monitor=e[2]),t.$set(i)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){w(t.$$.fragment,e),s=!1},d(e){T(t,e)}}}function W(u){let t,s,e=M(u[2].activeIncidents),l=[];for(let n=0;n<e.length;n+=1)l[n]=U(F(u,e,n));const i=n=>w(l[n],1,1,()=>{l[n]=null});return{c(){for(let n=0;n<l.length;n+=1)l[n].c();t=A()},l(n){for(let o=0;o<l.length;o+=1)l[o].l(n);t=A()},m(n,o){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(n,o);g(n,t,o),s=!0},p(n,o){if(o&1){e=M(n[2].activeIncidents);let a;for(a=0;a<e.length;a+=1){const m=F(n,e,a);l[a]?(l[a].p(m,o),v(l[a],1)):(l[a]=U(m),l[a].c(),v(l[a],1),l[a].m(t.parentNode,t))}for(B(),a=e.length;a<l.length;a+=1)i(a);z()}},i(n){if(!s){for(let o=0;o<e.length;o+=1)v(l[o]);s=!0}},o(n){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)w(l[o]);s=!1},d(n){n&&_(t),y(l,n)}}}function re(u){let t,s,e;return s=new X({props:{class:"mx-auto",$$slots:{default:[ie]},$$scope:{ctx:u}}}),{c(){t=b("section"),N(s.$$.fragment),this.h()},l(l){t=k(l,"SECTION",{class:!0,id:!0});var i=C(t);S(s.$$.fragment,i),i.forEach(_),this.h()},h(){x(t,"class","mx-auto bg-transparent mb-4 flex w-full max-w-[890px] flex-1 flex-col items-start justify-center"),x(t,"id","")},m(l,i){g(l,t,i),P(s,t,null),e=!0},p(l,i){const n={};i&1024&&(n.$$scope={dirty:i,ctx:l}),s.$set(n)},i(l){e||(v(s.$$.fragment,l),e=!0)},o(l){w(s.$$.fragment,l),e=!1},d(l){l&&_(t),T(s)}}}function ae(u){let t,s,e,l,i,n,o,a,m,h,c;return l=new H({props:{class:"",variant:"outline",$$slots:{default:[fe]},$$scope:{ctx:u}}}),o=new H({props:{variant:"outline",$$slots:{default:[ue]},$$scope:{ctx:u}}}),h=new X({props:{class:"w-full",$$slots:{default:[_e]},$$scope:{ctx:u}}}),{c(){t=b("section"),s=b("div"),e=b("div"),N(l.$$.fragment),i=E(),n=b("div"),N(o.$$.fragment),a=E(),m=b("section"),N(h.$$.fragment),this.h()},l(f){t=k(f,"SECTION",{class:!0,id:!0});var p=C(t);s=k(p,"DIV",{class:!0});var $=C(s);e=k($,"DIV",{class:!0});var r=C(e);S(l.$$.fragment,r),r.forEach(_),i=I($),n=k($,"DIV",{class:!0});var d=C(n);S(o.$$.fragment,d),d.forEach(_),$.forEach(_),p.forEach(_),a=I(f),m=k(f,"SECTION",{class:!0});var O=C(m);S(h.$$.fragment,O),O.forEach(_),this.h()},h(){x(e,"class","col-span-2 md:col-span-1 text-center md:text-left"),x(n,"class","col-span-2 md:col-span-1 text-center md:text-right"),x(s,"class","grid w-full grid-cols-2 gap-4"),x(t,"class","mx-auto bg-transparent mb-4 flex w-full max-w-[890px] flex-1 flex-col items-start justify-center"),x(t,"id",""),x(m,"class","mx-auto backdrop-blur-[2px] mb-8 flex w-full max-w-[890px] flex-1 flex-col items-start justify-center")},m(f,p){g(f,t,p),D(t,s),D(s,e),P(l,e,null),D(s,i),D(s,n),P(o,n,null),g(f,a,p),g(f,m,p),P(h,m,null),c=!0},p(f,p){const $={};p&1024&&($.$$scope={dirty:p,ctx:f}),l.$set($);const r={};p&1024&&(r.$$scope={dirty:p,ctx:f}),o.$set(r);const d={};p&1025&&(d.$$scope={dirty:p,ctx:f}),h.$set(d)},i(f){c||(v(l.$$.fragment,f),v(o.$$.fragment,f),v(h.$$.fragment,f),c=!0)},o(f){w(l.$$.fragment,f),w(o.$$.fragment,f),w(h.$$.fragment,f),c=!1},d(f){f&&(_(t),_(a),_(m)),T(l),T(o),T(h)}}}function ce(u){let t,s="No Monitor Found.",e,l,i=`Please read the documentation on how to add monitors 
				<a href="https://kener.ing/docs#h1add-monitors" target="_blank" class="underline">here</a>.`;return{c(){t=b("h1"),t.textContent=s,e=E(),l=b("p"),l.innerHTML=i,this.h()},l(n){t=k(n,"H1",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-pnpgii"&&(t.textContent=s),e=I(n),l=k(n,"P",{class:!0,"data-svelte-h":!0}),V(l)!=="svelte-x3h5nn"&&(l.innerHTML=i),this.h()},h(){x(t,"class","scroll-m-20 text-2xl font-extrabold tracking-tight lg:text-2xl text-center"),x(l,"class","mt-3 text-center")},m(n,o){g(n,t,o),g(n,e,o),g(n,l,o)},p:j,d(n){n&&(_(t),_(e),_(l))}}}function ie(u){let t,s;return t=new Y({props:{class:"pt-4",$$slots:{default:[ce]},$$scope:{ctx:u}}}),{c(){N(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,l){P(t,e,l),s=!0},p(e,l){const i={};l&1024&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){w(t.$$.fragment,e),s=!1},d(e){T(t,e)}}}function fe(u){let t;return{c(){t=K("Availability per Component")},l(s){t=Q(s,"Availability per Component")},m(s,e){g(s,t,e)},d(s){s&&_(t)}}}function ue(u){let t,s,e,l="UP",i,n,o,a,m="DEGRADED",h,c,f,p,$="DOWN";return{c(){t=b("span"),s=E(),e=b("span"),e.textContent=l,i=E(),n=b("span"),o=E(),a=b("span"),a.textContent=m,h=E(),c=b("span"),f=E(),p=b("span"),p.textContent=$,this.h()},l(r){t=k(r,"SPAN",{class:!0}),C(t).forEach(_),s=I(r),e=k(r,"SPAN",{class:!0,"data-svelte-h":!0}),V(e)!=="svelte-fd8nbr"&&(e.textContent=l),i=I(r),n=k(r,"SPAN",{class:!0}),C(n).forEach(_),o=I(r),a=k(r,"SPAN",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-ddctvm"&&(a.textContent=m),h=I(r),c=k(r,"SPAN",{class:!0}),C(c).forEach(_),f=I(r),p=k(r,"SPAN",{class:!0,"data-svelte-h":!0}),V(p)!=="svelte-1o75psw"&&(p.textContent=$),this.h()},h(){x(t,"class","w-[8px] h-[8px] inline-flex rounded-full bg-api-up opacity-75 mr-1"),x(e,"class","mr-3"),x(n,"class","w-[8px] h-[8px] inline-flex rounded-full bg-api-degraded opacity-75 mr-1"),x(a,"class","mr-3"),x(c,"class","w-[8px] h-[8px] inline-flex rounded-full bg-api-down opacity-75 mr-1"),x(p,"class","mr-3")},m(r,d){g(r,t,d),g(r,s,d),g(r,e,d),g(r,i,d),g(r,n,d),g(r,o,d),g(r,a,d),g(r,h,d),g(r,c,d),g(r,f,d),g(r,p,d)},p:j,d(r){r&&(_(t),_(s),_(e),_(i),_(n),_(o),_(a),_(h),_(c),_(f),_(p))}}}function J(u){let t,s;return t=new ne({props:{monitor:u[2],localTz:u[0].localTz}}),{c(){N(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,l){P(t,e,l),s=!0},p(e,l){const i={};l&1&&(i.monitor=e[2]),l&1&&(i.localTz=e[0].localTz),t.$set(i)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){w(t.$$.fragment,e),s=!1},d(e){T(t,e)}}}function me(u){let t,s,e=M(u[0].monitors),l=[];for(let n=0;n<e.length;n+=1)l[n]=J(L(u,e,n));const i=n=>w(l[n],1,1,()=>{l[n]=null});return{c(){for(let n=0;n<l.length;n+=1)l[n].c();t=A()},l(n){for(let o=0;o<l.length;o+=1)l[o].l(n);t=A()},m(n,o){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(n,o);g(n,t,o),s=!0},p(n,o){if(o&1){e=M(n[0].monitors);let a;for(a=0;a<e.length;a+=1){const m=L(n,e,a);l[a]?(l[a].p(m,o),v(l[a],1)):(l[a]=J(m),l[a].c(),v(l[a],1),l[a].m(t.parentNode,t))}for(B(),a=e.length;a<l.length;a+=1)i(a);z()}},i(n){if(!s){for(let o=0;o<e.length;o+=1)v(l[o]);s=!0}},o(n){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)w(l[o]);s=!1},d(n){n&&_(t),y(l,n)}}}function _e(u){let t,s;return t=new Y({props:{class:"p-0 monitors-card",$$slots:{default:[me]},$$scope:{ctx:u}}}),{c(){N(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,l){P(t,e,l),s=!0},p(e,l){const i={};l&1025&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(e){s||(v(t.$$.fragment,e),s=!0)},o(e){w(t.$$.fragment,e),s=!1},d(e){T(t,e)}}}function pe(u){let t,s,e,l,i,n,o,a,m,h=u[0].monitors.length>0&&G(u),c=u[1]&&R(u);const f=[ae,re],p=[];function $(r,d){return r[0].monitors.length>0?0:1}return n=$(u),o=p[n]=f[n](u),{c(){h&&h.c(),t=A(),s=E(),e=b("div"),l=E(),c&&c.c(),i=E(),o.c(),a=A(),this.h()},l(r){const d=ee("svelte-11ekmvk",document.head);h&&h.l(d),t=A(),d.forEach(_),s=I(r),e=k(r,"DIV",{class:!0}),C(e).forEach(_),l=I(r),c&&c.l(r),i=I(r),o.l(r),a=A(),this.h()},h(){x(e,"class","mt-32")},m(r,d){h&&h.m(document.head,null),D(document.head,t),g(r,s,d),g(r,e,d),g(r,l,d),c&&c.m(r,d),g(r,i,d),p[n].m(r,d),g(r,a,d),m=!0},p(r,[d]){r[0].monitors.length>0?h||(h=G(r),h.c(),h.m(t.parentNode,t)):h&&(h.d(1),h=null),r[1]?c?(c.p(r,d),d&2&&v(c,1)):(c=R(r),c.c(),v(c,1),c.m(i.parentNode,i)):c&&(B(),w(c,1,1,()=>{c=null}),z());let O=n;n=$(r),n===O?p[n].p(r,d):(B(),w(p[O],1,1,()=>{p[O]=null}),z(),o=p[n],o?o.p(r,d):(o=p[n]=f[n](r),o.c()),v(o,1),o.m(a.parentNode,a))},i(r){m||(v(c),v(o),m=!0)},o(r){w(c),w(o),m=!1},d(r){r&&(_(s),_(e),_(l),_(i),_(a)),h&&h.d(r),_(t),c&&c.d(r),p[n].d(r)}}}function de(u,t,s){let{data:e}=t,l=!1;for(let i=0;i<e.monitors.length;i++)if(e.monitors[i].activeIncidents.length>0){l=!0;break}return u.$$set=i=>{"data"in i&&s(0,e=i.data)},[e,l]}class Ce extends te{constructor(t){super(),le(this,t,de,pe,Z,{data:0})}}export{Ce as component};
